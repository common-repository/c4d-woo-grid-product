var c4dwgp={};!function(a){c4dwgp.products=function(t,d,o,e){var c={action:"c4d_woo_gp",c4dajaxgp:1,category:""},d=(a("#"+t),a.extend({},c,d)),i="category-"+d.category+d.page+d.count;a(c4dwgp[t]).data(i)?c4dwgp.updateHtml(o,t,a(c4dwgp[t]).data(i),e):a.get(c4d_woo_gp.ajax_url,d,function(d){a(c4dwgp[t]).data(i,d),c4dwgp.updateHtml(o,t,d,e)})},c4dwgp.updateHtml=function(t,d,o,e){if("string"!=typeof d&&(d=d.attr("id")),t){var c=a(o).find(".c4d-woo-gp__grid > div");c.length>0&&a("#"+d).append(c.html())}else a("#"+d).parent().html('<div id="'+d+'">'+a(o).find(".c4d-woo-gp__grid > div").html()+"</div>");a("#"+d).parents(".c4d-woo-gp").find(".c4d-woo-gp__loading").removeClass("active"),e&&e(o)},a(document).ready(function(){a(".c4d-woo-gp").each(function(){var t=a(this).find(".c4d-woo-gp__grid > div").attr("id"),d=this;a(d).find(".c4d-woo-gp__categories span").each(function(o,e){a(this).on("click",function(o){o.preventDefault();var e=this;return a(e).addClass("active").siblings().removeClass("active"),a(d).find(".c4d-woo-gp__loading").addClass("active"),a(d).css("min-height",a(d).height()),c4dwgp.products(t,{count:c4dwgp[t].count,category:a(e).attr("data-category")},!1,function(){"1"==a(d).data("load-more-empty-"+a(e).attr("data-category"))?a(d).addClass("load-more-empty"):a(d).removeClass("load-more-empty"),a(d).parents("c4d-woo-gp").find(".c4d-woo-gp__loadmore a").attr("data-page",0),a(d).css("min-height","0")}),!1})}),a(d).find(".c4d-woo-gp__loadmore a").each(function(o,e){a(this).on("click",function(o){o.preventDefault();var e=this,c=a(this).parents(".c4d-woo-gp").find(".c4d-woo-gp__categories span.active").attr("data-category");return a(d).find(".c4d-woo-gp__loading").addClass("active"),a(e).parents(".c4d-woo-gp__loadmore").addClass("loading"),c4dwgp.products(t,{category:c,count:c4dwgp[t].count,page:a(this).attr("data-page"),loadmore:1},!0,function(t){a(e).parents(".c4d-woo-gp__loadmore").removeClass("loading"),a(e).attr("data-page",parseInt(a(e).attr("data-page"))+1),a(t).find(".c4d-woo-gp__grid > div .item").length<1&&(a(d).addClass("load-more-empty"),a(d).data("load-more-empty-"+c,1))}),!1})})})})}(jQuery);